<div class="main_section">
    <div class="main_header">
        <a routerLink="/admin/home"><div class="image"><img src="assets/images/arrow.png"></div></a><span>Admin Panel</span>
    </div>


    <!--  -->
    <div class="main_heading">
        <span>All Products</span>
    </div>

    <div class="search_button">
        <input class="form-control mr-sm-2" (input)="onChanges($event)" type="search" placeholder="Search Product?"  aria-label="Search">
    </div> 

    <div class="orders_table">
        <table class="table" >
            <thead>
              <tr>
                <th scope="col">ProductId</th>
                <th scope="col">Product Name</th>
                <th scope="col">Product Price</th>
                <th scope="col">Product Discounted Price</th>
                <th scope="col">Product Category</th>
                <th scope="col">Image</th>
                <th scope="col">Operation</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let product of this.allproducts">
                <td>{{product.product_id}}</td>
                <td>{{product.product_name}}</td>
                <td>{{product.product_price}}/-</td>
                <td>{{product.product_discounted_price}}/-</td>
                <td>{{product.product_category}}</td>
                <td class="table_img"><img src="{{product.product_img}}"></td>
                <td>
                    <mat-icon (click)="delete(product.product_id)"> delete </mat-icon>
                    <mat-icon style="margin-left: 7px" (click)="updateProduct(product)"> edit </mat-icon>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
        <div class="next_prev">
          <button (click)="this.prevPage()"><mat-icon class="left_arrow">arrow_left</mat-icon></button>
          <button (click)="this.nextPage()" *ngIf="this.allproducts.length!=0"><mat-icon class="left_arrow">arrow_right</mat-icon></button>
        </div>

<!-- Product Delete confirmation Popup -->
<div class="product_popup" *ngIf="this.isDeleting">
    <span>Are you sure you want to delete this product!</span>
    <div class="popup_button">
        <button (click)="this.confirmDelete()">Delete</button><button (click)="this.isDeleting=false" class="cancel">Cancel</button>
    </div>
</div>

<!--  -->
<div class="updateForm" *ngIf="this.isUpdate">
    <div class="form">
        <form (ngSubmit)="updateForm()">
          <span>Update Product</span>
          <div class="input_label">
            <label for="">Product Id</label>
            <input type="text" readonly value={{updateProduct1?.product_id}}>
          </div>
          <div class="input_label">
            <label for="">Product Name</label>
            <input type="text" (input)="setupdate($event,'product_name')" value={{updateProduct1?.product_name}} placeholder="Sofa">
          </div>
          <div class="input_label">
            <label for="">Product Price</label>
            <input type="text" (input)="setupdate($event,'product_price')" value={{updateProduct1?.product_price}}>
          </div>
          <div class="input_label">
            <label for="">Product Discounted Price</label>
            <input type="text" (input)="setupdate($event,'product_discount')" value={{updateProduct1?.product_discounted_price}}>
          </div>
          <div class="input_label">
            <label for="">Product Description</label>
            <input type="text" (input)="setupdate($event,'product_description')" value={{updateProduct1?.product_description}}>
          </div>
          <div class="input_label">
            <label for="">Category</label>
            <select class="selector11" (input)="setupdate($event,'product_category')" name="cars" id="cars">
              <option value="sofa">Sofa</option>
              <option value="bed">Bed</option>
              <option value="almirah">Almirah</option>
              <option value="audi">Audi</option>
            </select>
          </div>
          <button class="btn_update">Update</button>
          <button class="btn_cancel" (click)="this.isUpdate=false;">Cancel</button>
        </form>
    </div>
</div>
</div>
